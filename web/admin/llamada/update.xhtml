<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="./../../WEB-INF/templates/layout.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core">

    <ui:define name="title">
        <title>Sistema FerreAsesorServer</title>
    </ui:define>

    <ui:define name="content">
        <p:fieldset>
            <f:facet name="legend">
                <h3>
                    <h:outputText value="Actualizar Llamadas por Tiendas"/>
                </h3>
            </f:facet>
            <h:form id="formTotalLlamada"><br/>
                <h:panelGrid columns="2" style="margin-bottom: 10px;" id="selectTienda">
                    <h:outputText value="Actualizar: " />  
                    <p:selectManyCheckbox value="#{llamadasUpdateBean.selectedTiendas}" >  
                        <f:selectItems value="#{llamadasUpdateBean.tiendas}" /> 
                    </p:selectManyCheckbox> 
                </h:panelGrid>
                <h:panelGrid columns="2" style="margin-bottom: 10px;">
                    <h:outputText value="Actualizar: " />  
                    <p:selectManyCheckbox value="#{llamadasUpdateBean.selectedAllTiendas}">  
                        <f:selectItems value="#{llamadasUpdateBean.allTiendas}" /> 
                    </p:selectManyCheckbox> 
                </h:panelGrid>
                <br/>
                <p:commandButton value="Actualizar Datos"  actionListener="#{llamadasUpdateBean.updateLlamadasUsuario}"  ajax="true" update="formTotalLlamada"/>
                <p:spacer style="width: 10px;"/>
                <br/>
                <h:panelGroup id="messageTotalLlamada" layout="block">
                    <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
                </h:panelGroup>
                <br/>
                <p:ajaxStatus style="right:45%; left:45%">  
                    <f:facet name="start">  
                        <h:graphicImage library="images" name="ajax-loader.gif" style="margin-top: 10px; margin-bottom: 0px; margin-left: 40%;margin-right: 45%"/>
                    </f:facet>  
                    <f:facet name="complete">  
                        <h:outputText value="" />  
                    </f:facet>  
                </p:ajaxStatus>
            </h:form>

            <!--Actualización Automática de Llamadas de Todas las Tiendas-->
            <!--             <h:form id="formUpdate">
                             <h:outputText value="Actualizando Llamadas"/>
                             <p:poll interval="25" listener="#{llamadasUpdateBean.updateLlamadasAtomatica}" update="formUpdate" />  
                         </h:form>-->

        </p:fieldset>

    </ui:define>


</ui:composition>

